PARROT_DIR=<PARROT_DIR>

SOURCES=HTML/Template.pm CGI.pm Text/Markup/Wiki/Minimal.pm November.pm Test.pm November__Storage.pm November__Storage__File.pm

PIRS=$(SOURCES:.pm=.pir)

all:
	@echo "================================================================================"
	@echo "Dear builder:" 
	@echo "Right now Rakudo doesn't work properly with modules in PIR format [perl #59104]."
	@echo "Until that is fixed, you likely don't want to run make.  If you do, however,"
	@echo "you can remove the 'exit 1' line after this message in the Makefile."
	@echo "================================================================================"
	@exit 1
	$(PIRS)

%.pir: %.pm
	$(PARROT_DIR)/parrot $(PARROT_DIR)/languages/perl6/perl6.pbc --target=pir $<  > $@

clean:
	rm $(PIRS)

